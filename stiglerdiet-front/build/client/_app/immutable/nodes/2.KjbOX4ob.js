import{s as be,n as re,r as xe,c as Ce,o as Ie}from"../chunks/scheduler.Bmg8oFKD.js";import{S as ye,i as ke,e as f,t as M,s as C,k as he,c as p,a as w,b as R,f as I,d as u,o as l,g as b,h as o,A as z,y as X,p as te,j as oe,B as ue,u as Te,C as Ee,v as Pe,w as Ne,n as $e,l as Se,x as Ue}from"../chunks/index.Dac_rt9t.js";import{e as le}from"../chunks/each.D6YF6ztN.js";import{w as Fe}from"../chunks/index.D_GRTHN4.js";const we=!0,ze=Object.freeze(Object.defineProperty({__proto__:null,prerender:we},Symbol.toStringTag,{value:"Module"}));function me(h,e,s){const c=h.slice();return c[8]=e[s],c}function fe(h,e,s){const c=h.slice();return c[11]=e[s],c}function pe(h,e,s){const c=h.slice();return c[11]=e[s],c}function de(h){let e,s="Tulos:",c,i,m="Vuoden ruoka-aineet & niiden hinta",n,r,y,E,k,_,d,A,F=h[1].optimalAnnualPrice.toFixed(2)+"",J,B,G,U,Z="Ravinteet per päivä",L,q,H,ee='<p class="svelte-1hcmgl4">Kalorit</p> <p class="svelte-1hcmgl4">Proteiini</p> <p class="svelte-1hcmgl4">Hiilihydraatit</p> <p class="svelte-1hcmgl4">Rasvat</p> <p class="svelte-1hcmgl4">Kuitu</p>',K,Y,j=le(h[1].foods),P=[];for(let t=0;t<j.length;t+=1)P[t]=ve(pe(h,j,t));let O=le(h[1].foods),N=[];for(let t=0;t<O.length;t+=1)N[t]=_e(fe(h,O,t));let D=le(Object.keys(h[1].nutrients)),T=[];for(let t=0;t<D.length;t+=1)T[t]=ge(me(h,D,t));return{c(){e=f("h1"),e.textContent=s,c=C(),i=f("h2"),i.textContent=m,n=C(),r=f("div"),y=f("div");for(let t=0;t<P.length;t+=1)P[t].c();E=C(),k=f("div");for(let t=0;t<N.length;t+=1)N[t].c();_=C(),d=f("h2"),A=M("Yhteensä: "),J=M(F),B=M("€"),G=C(),U=f("h2"),U.textContent=Z,L=C(),q=f("div"),H=f("div"),H.innerHTML=ee,K=C(),Y=f("div");for(let t=0;t<T.length;t+=1)T[t].c();this.h()},l(t){e=p(t,"H1",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-lddk8l"&&(e.textContent=s),c=I(t),i=p(t,"H2",{style:!0,"data-svelte-h":!0}),X(i)!=="svelte-1vgs6he"&&(i.textContent=m),n=I(t),r=p(t,"DIV",{class:!0});var v=w(r);y=p(v,"DIV",{class:!0});var a=w(y);for(let x=0;x<P.length;x+=1)P[x].l(a);a.forEach(u),E=I(v),k=p(v,"DIV",{class:!0});var V=w(k);for(let x=0;x<N.length;x+=1)N[x].l(V);V.forEach(u),v.forEach(u),_=I(t),d=p(t,"H2",{style:!0});var $=w(d);A=R($,"Yhteensä: "),J=R($,F),B=R($,"€"),$.forEach(u),G=I(t),U=p(t,"H2",{style:!0,"data-svelte-h":!0}),X(U)!=="svelte-1v77qs8"&&(U.textContent=Z),L=I(t),q=p(t,"DIV",{class:!0});var Q=w(q);H=p(Q,"DIV",{class:!0,"data-svelte-h":!0}),X(H)!=="svelte-a2i6ge"&&(H.innerHTML=ee),K=I(Q),Y=p(Q,"DIV",{class:!0});var W=w(Y);for(let x=0;x<T.length;x+=1)T[x].l(W);W.forEach(u),Q.forEach(u),this.h()},h(){l(e,"class","result-header"),te(i,"font-weight","bold"),te(i,"text-decoration","underline"),l(y,"class","left-col svelte-1hcmgl4"),l(k,"class","right-col svelte-1hcmgl4"),l(r,"class","results svelte-1hcmgl4"),te(d,"font-weight","bold"),te(U,"font-weight","bold"),te(U,"margin-top","20px"),te(U,"text-decoration","underline"),l(H,"class","left-col svelte-1hcmgl4"),l(Y,"class","right-col svelte-1hcmgl4"),l(q,"class","results svelte-1hcmgl4")},m(t,v){b(t,e,v),b(t,c,v),b(t,i,v),b(t,n,v),b(t,r,v),o(r,y);for(let a=0;a<P.length;a+=1)P[a]&&P[a].m(y,null);o(r,E),o(r,k);for(let a=0;a<N.length;a+=1)N[a]&&N[a].m(k,null);b(t,_,v),b(t,d,v),o(d,A),o(d,J),o(d,B),b(t,G,v),b(t,U,v),b(t,L,v),b(t,q,v),o(q,H),o(q,K),o(q,Y);for(let a=0;a<T.length;a+=1)T[a]&&T[a].m(Y,null)},p(t,v){if(v&2){j=le(t[1].foods);let a;for(a=0;a<j.length;a+=1){const V=pe(t,j,a);P[a]?P[a].p(V,v):(P[a]=ve(V),P[a].c(),P[a].m(y,null))}for(;a<P.length;a+=1)P[a].d(1);P.length=j.length}if(v&2){O=le(t[1].foods);let a;for(a=0;a<O.length;a+=1){const V=fe(t,O,a);N[a]?N[a].p(V,v):(N[a]=_e(V),N[a].c(),N[a].m(k,null))}for(;a<N.length;a+=1)N[a].d(1);N.length=O.length}if(v&2&&F!==(F=t[1].optimalAnnualPrice.toFixed(2)+"")&&oe(J,F),v&2){D=le(Object.keys(t[1].nutrients));let a;for(a=0;a<D.length;a+=1){const V=me(t,D,a);T[a]?T[a].p(V,v):(T[a]=ge(V),T[a].c(),T[a].m(Y,null))}for(;a<T.length;a+=1)T[a].d(1);T.length=D.length}},d(t){t&&(u(e),u(c),u(i),u(n),u(r),u(_),u(d),u(G),u(U),u(L),u(q)),ue(P,t),ue(N,t),ue(T,t)}}}function ve(h){let e,s=h[11].name+"",c,i;return{c(){e=f("p"),c=M(s),i=C(),this.h()},l(m){e=p(m,"P",{class:!0});var n=w(e);c=R(n,s),n.forEach(u),i=I(m),this.h()},h(){l(e,"class","svelte-1hcmgl4")},m(m,n){b(m,e,n),o(e,c),b(m,i,n)},p(m,n){n&2&&s!==(s=m[11].name+"")&&oe(c,s)},d(m){m&&(u(e),u(i))}}}function _e(h){let e,s=h[11].price.toFixed(2)+"",c,i,m;return{c(){e=f("p"),c=M(s),i=M("€"),m=C(),this.h()},l(n){e=p(n,"P",{class:!0});var r=w(e);c=R(r,s),i=R(r,"€"),r.forEach(u),m=I(n),this.h()},h(){l(e,"class","svelte-1hcmgl4")},m(n,r){b(n,e,r),o(e,c),o(e,i),b(n,m,r)},p(n,r){r&2&&s!==(s=n[11].price.toFixed(2)+"")&&oe(c,s)},d(n){n&&(u(e),u(m))}}}function ge(h){let e,s=h[1].nutrients[h[8]].value.toFixed(2)+"",c,i,m;return{c(){e=f("p"),c=M(s),i=M(" (g)"),m=C(),this.h()},l(n){e=p(n,"P",{class:!0});var r=w(e);c=R(r,s),i=R(r," (g)"),r.forEach(u),m=I(n),this.h()},h(){l(e,"class","svelte-1hcmgl4")},m(n,r){b(n,e,r),o(e,c),o(e,i),b(n,m,r)},p(n,r){r&2&&s!==(s=n[1].nutrients[n[8]].value.toFixed(2)+"")&&oe(c,s)},d(n){n&&(u(e),u(m))}}}function je(h){let e,s,c="Laske uudelleen",i,m;return{c(){e=f("div"),s=f("button"),s.textContent=c,this.h()},l(n){e=p(n,"DIV",{class:!0});var r=w(e);s=p(r,"BUTTON",{class:!0,"data-svelte-h":!0}),X(s)!=="svelte-134f3v"&&(s.textContent=c),r.forEach(u),this.h()},h(){l(s,"class","svelte-1hcmgl4"),l(e,"class","calc-button svelte-1hcmgl4")},m(n,r){b(n,e,r),o(e,s),i||(m=z(s,"click",h[5]),i=!0)},p:re,d(n){n&&u(e),i=!1,m()}}}function De(h){let e,s,c="Laske",i,m;return{c(){e=f("div"),s=f("button"),s.textContent=c,this.h()},l(n){e=p(n,"DIV",{class:!0});var r=w(e);s=p(r,"BUTTON",{class:!0,"data-svelte-h":!0}),X(s)!=="svelte-wsmdxe"&&(s.textContent=c),r.forEach(u),this.h()},h(){l(s,"class","svelte-1hcmgl4"),l(e,"class","calc-button svelte-1hcmgl4")},m(n,r){b(n,e,r),o(e,s),i||(m=z(s,"click",h[5]),i=!0)},p:re,d(n){n&&u(e),i=!1,m()}}}function He(h){let e,s,c,i,m,n,r,y,E,k,_,d,A,F,J,B,G,U,Z,L,q,H,ee,K,Y,j,P,O,N,D,T,t,v,a,V,$=h[0]&&de(h);function Q(g,S){return g[0]?je:De}let W=Q(h),x=W(h);return{c(){e=f("ul"),s=f("li"),c=M("Kalorit "),i=f("input"),m=C(),n=f("input"),r=C(),y=f("li"),E=M("Proteiini "),k=f("input"),_=C(),d=f("input"),A=C(),F=f("li"),J=M("Hiilihydraatit "),B=f("input"),G=C(),U=f("input"),Z=C(),L=f("li"),q=M("Rasvat "),H=f("input"),ee=C(),K=f("input"),Y=C(),j=f("li"),P=M("Kuitu "),O=f("input"),N=C(),D=f("input"),T=C(),$&&$.c(),t=C(),x.c(),v=he(),this.h()},l(g){e=p(g,"UL",{class:!0});var S=w(e);s=p(S,"LI",{class:!0});var se=w(s);c=R(se,"Kalorit "),i=p(se,"INPUT",{type:!0,name:!0,class:!0}),m=I(se),n=p(se,"INPUT",{type:!0,name:!0,min:!0,max:!0,class:!0}),se.forEach(u),r=I(S),y=p(S,"LI",{class:!0});var ne=w(y);E=R(ne,"Proteiini "),k=p(ne,"INPUT",{type:!0,name:!0,class:!0}),_=I(ne),d=p(ne,"INPUT",{type:!0,name:!0,min:!0,max:!0,class:!0}),ne.forEach(u),A=I(S),F=p(S,"LI",{class:!0});var ae=w(F);J=R(ae,"Hiilihydraatit "),B=p(ae,"INPUT",{type:!0,name:!0,class:!0}),G=I(ae),U=p(ae,"INPUT",{type:!0,name:!0,min:!0,max:!0,class:!0}),ae.forEach(u),Z=I(S),L=p(S,"LI",{class:!0});var ie=w(L);q=R(ie,"Rasvat "),H=p(ie,"INPUT",{type:!0,name:!0,class:!0}),ee=I(ie),K=p(ie,"INPUT",{type:!0,name:!0,min:!0,max:!0,class:!0}),ie.forEach(u),Y=I(S),j=p(S,"LI",{class:!0});var ce=w(j);P=R(ce,"Kuitu "),O=p(ce,"INPUT",{type:!0,name:!0,class:!0}),N=I(ce),D=p(ce,"INPUT",{type:!0,name:!0,min:!0,max:!0,class:!0}),ce.forEach(u),S.forEach(u),T=I(g),$&&$.l(g),t=I(g),x.l(g),v=he(),this.h()},h(){l(i,"type","checkbox"),l(i,"name","calories"),l(i,"class","svelte-1hcmgl4"),l(n,"type","number"),l(n,"name","calories"),l(n,"min","0"),l(n,"max","9999"),l(n,"class","svelte-1hcmgl4"),l(s,"class","svelte-1hcmgl4"),l(k,"type","checkbox"),l(k,"name","protein"),l(k,"class","svelte-1hcmgl4"),l(d,"type","number"),l(d,"name","protein"),l(d,"min","0"),l(d,"max","9999"),l(d,"class","svelte-1hcmgl4"),l(y,"class","svelte-1hcmgl4"),l(B,"type","checkbox"),l(B,"name","carbohydrates"),l(B,"class","svelte-1hcmgl4"),l(U,"type","number"),l(U,"name","carbohydrates"),l(U,"min","0"),l(U,"max","9999"),l(U,"class","svelte-1hcmgl4"),l(F,"class","svelte-1hcmgl4"),l(H,"type","checkbox"),l(H,"name","fat"),l(H,"class","svelte-1hcmgl4"),l(K,"type","number"),l(K,"name","fat"),l(K,"min","0"),l(K,"max","9999"),l(K,"class","svelte-1hcmgl4"),l(L,"class","svelte-1hcmgl4"),l(O,"type","checkbox"),l(O,"name","fiber"),l(O,"class","svelte-1hcmgl4"),l(D,"type","number"),l(D,"name","fiber"),l(D,"min","0"),l(D,"max","9999"),l(D,"class","svelte-1hcmgl4"),l(j,"class","svelte-1hcmgl4"),l(e,"class","svelte-1hcmgl4")},m(g,S){b(g,e,S),o(e,s),o(s,c),o(s,i),o(s,m),o(s,n),o(e,r),o(e,y),o(y,E),o(y,k),o(y,_),o(y,d),o(e,A),o(e,F),o(F,J),o(F,B),o(F,G),o(F,U),o(e,Z),o(e,L),o(L,q),o(L,H),o(L,ee),o(L,K),o(e,Y),o(e,j),o(j,P),o(j,O),o(j,N),o(j,D),b(g,T,S),$&&$.m(g,S),b(g,t,S),x.m(g,S),b(g,v,S),a||(V=[z(i,"change",h[3]),z(n,"input",h[4]),z(k,"change",h[3]),z(d,"input",h[4]),z(B,"change",h[3]),z(U,"input",h[4]),z(H,"change",h[3]),z(K,"input",h[4]),z(O,"change",h[3]),z(D,"input",h[4])],a=!0)},p(g,[S]){g[0]?$?$.p(g,S):($=de(g),$.c(),$.m(t.parentNode,t)):$&&($.d(1),$=null),W===(W=Q(g))&&x?x.p(g,S):(x.d(1),x=W(g),x&&(x.c(),x.m(v.parentNode,v)))},i:re,o:re,d(g){g&&(u(e),u(T),u(t),u(v)),$&&$.d(g),x.d(g),a=!1,xe(V)}}}function Le(h,e,s){let c,i={calories:0,protein:0,carbohydrates:0,fat:0,fiber:0},m=Fe([]);Ce(h,m,_=>s(1,c=_));let n=!1;function r(_){const{name:d,checked:A}=_.target;A?i[d]=parseFloat(document.querySelector(`input[name="${d}"][type="number"]`).value)||0:i[d]=0}function y(_){const{name:d,value:A}=_.target,F=document.querySelector(`input[name="${d}"][type="checkbox"]`);F&&F.checked&&(i[d]=parseFloat(A)||0)}async function E(){try{const _=await fetch("http://localhost:5126/api/Calculate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(_.ok){console.log("Calculation successful");const d=await _.json();m.set(d),console.log(c),s(0,n=!0)}else console.error("Calculation failed:",_.statusText)}catch(_){console.error("Network error:",_)}}function k(){Object.keys(i).forEach(_=>{const d=document.querySelector(`input[name="${_}"][type="checkbox"]`);d&&d.checked&&(i[_]=parseFloat(document.querySelector(`input[name="${_}"][type="number"]`).value)||0)})}return Ie(k),[n,c,m,r,y,E]}class Oe extends ye{constructor(e){super(),ke(this,e,Le,He,be,{})}}function Ve(h){let e,s,c,i,m="Ravinteet",n,r,y;return r=new Oe({}),{c(){e=f("meta"),s=C(),c=f("section"),i=f("h1"),i.textContent=m,n=C(),Te(r.$$.fragment),this.h()},l(E){const k=Ee("svelte-1nrs46b",document.head);e=p(k,"META",{name:!0,content:!0}),k.forEach(u),s=I(E),c=p(E,"SECTION",{class:!0});var _=w(c);i=p(_,"H1",{class:!0,"data-svelte-h":!0}),X(i)!=="svelte-hio5lx"&&(i.textContent=m),n=I(_),Pe(r.$$.fragment,_),_.forEach(u),this.h()},h(){document.title="Food optimizer",l(e,"name","description"),l(e,"content","Food optimizer"),l(i,"class","svelte-1yjb9ao"),l(c,"class","svelte-1yjb9ao")},m(E,k){o(document.head,e),b(E,s,k),b(E,c,k),o(c,i),o(c,n),Ne(r,c,null),y=!0},p:re,i(E){y||($e(r.$$.fragment,E),y=!0)},o(E){Se(r.$$.fragment,E),y=!1},d(E){E&&(u(s),u(c)),u(e),Ue(r)}}}class Ae extends ye{constructor(e){super(),ke(this,e,null,Ve,be,{})}}export{Ae as component,ze as universal};
